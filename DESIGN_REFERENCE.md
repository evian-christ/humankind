# DESIGN_REFERENCE.md

장기 디자인 방향과 아이디어 저장소. 구현된 시스템의 현재 상태는 코드를 직접 참조하세요.

---

## 1. 외부 레퍼런스

- **Luck be a Landlord**
  - 심볼 152개, 평균 상호작용 0.4~0.6개, 핵심 허브 심볼 10~15개.
  - 인접 시너지, 파괴/생성, 변환, 조건부 배율 등 다양한 메커니즘 공존.
  - 문명 테마에 맞춰 유사한 "느슨한 거미줄" 구조를 목표로 하되, 지나친 복잡성은 피한다.

---

## 2. 디자인 기둥

1. **아케이드 우선** — 짧은 세션, 즉각적 피드백, 최소 연출로도 명확한 결과.
2. **단일 생존 자원 + 보조 자원** — 식량을 핵심으로 두고, 골드/지식은 전략 분화를 위한 보조 축.
3. **시대 기반 진행** — 희귀도 = 시대. 지식이 쌓일수록 고대→고전→중세로 확장되며 선택 가중치가 변함.
4. **명확한 테마 체인** — 농업-산업-도시-과학-전쟁 같은 문명 성장 흐름을 심볼 세트로 표현.
5. **전략적 단순함** — 게임이 전략적으로 복잡해도 개별 요소는 단순해야 함. 인지 비용 대비 전략 가치가 높은 것만 남긴다.

---

## 3. 목표 스케일

- **단기** — 30개 심볼(현재)로 기본 순환 완성.
- **중기** — 50~60개 심볼, 시대 3~4개까지 확장. 허브 심볼 5~8개(종교, 과학, 경제, 군사 등) 구축.
- **장기** — 80개 이상 + 이벤트 시스템 + 모드 지원.

---

## 4. 이벤트 시스템 (설계 중)

슬롯 기반 이벤트 슬롯을 제거하고, 이벤트는 게임 흐름에서 자동으로 발생하는 방향으로 전환.

### 이벤트 카테고리 후보

| 카테고리 | 성격 | 예시 |
|---|---|---|
| 자연재해 | 부정적, 즉발 | 홍수, 가뭄, 기근 |
| 외세 위협 | 부정적, 지속 | 야만인 침입, 해적 |
| 역병 | 부정적, 지속 | 심볼 영구 파괴 |
| 반란 | 조건부 | 군사력 부족 시 골드/식량 손실 |
| 황금기 | 긍정적, 즉발 | 자원 대량 획득 |
| 교역 기회 | 긍정적, 선택 | 골드 소비 → 희귀 심볼 |
| 위인 등장 | 긍정적, 일시 | 특수 심볼 합류 |
| 이주민 유입 | 중립 | 약한 심볼 무작위 추가 |

### 발동 메커니즘 (논의 중)

- 고정 주기(N턴마다) + 약간의 랜덤 범위 조합이 유력.
- 조건부 이벤트는 플레이어 상태(군사 심볼 보유 여부 등)에 따라 결과가 달라짐.

---

## 5. 시대 전환 시스템

- 지식 누적으로 시대가 자동 전환됨 (현재 구현).
- **고전 시대 진입 시** 해금 선택 1회 발생 (현재 구현):
  - (A) 종교 심볼 해금 — 심볼 풀에 기독교·이슬람·불교·힌두교 추가
  - (B) 영구 지식 +1/턴
- **추후 고려**: 중세·산업 시대 진입 시에도 유사한 분기 선택 도입 가능.

---

## 6. 전투 시스템 (설계 확정, 미구현)

---

### 6-1. 핵심 원칙

- 별도 군사력 자원 없음. 모든 전투는 심볼로 처리.
- 스핀당 이터레이션 순서: **전투 페이즈 → 효과 페이즈**.
  - 전투 페이즈: 전투 심볼이 인접 적 심볼을 제거. 적 심볼이 인접 아군 심볼에 피해 적용.
  - 효과 페이즈: 살아남은 심볼들이 식량·골드·지식 생산 (현재 구현된 흐름).
- 전쟁은 플레이어의 선택이지만, 야만인 출현은 강제 → 기본 방어는 필수.

### 6-2. 전투 해결 방식 — ATK / HP 분리 (확정)

전투 심볼과 적 심볼 모두 **ATK**(공격력)와 **HP**(체력)를 독립적으로 보유.
전투 페이즈마다 인접한 전투 심볼 ↔ 적 심볼이 동시에 ATK만큼 상대 HP를 깎음.
HP가 0 이하가 되면 해당 스핀 종료 후 파괴.

```
전투 심볼 수치 (임시)
  Warrior   → ATK 2 / HP 10
  Swordsman → ATK 4 / HP 14
  Knight    → ATK 6 / HP 18

적 심볼 수치 (임시)
  야만인    → HP 6  / 반격 ATK 1
  침략자    → HP 12 / 반격 ATK 3
  정예 적군 → HP 20 / 반격 ATK 5
```

**버프 다양화 설계 의도**:
HP가 10~18 범위이므로 "+2~4 HP" 버프가 유의미하되 과하지 않음.
ATK는 범위가 좁아(2~6) "+1 ATK" 버프는 강력 → 희귀 이로운 효과로 설계.

버프 예시:
- Barracks(병영): 인접 전투 심볼 HP +4
- Warlord(전쟁군주): 인접 전투 심볼 ATK +1 (희귀)
- Medic(의무병): 매 스핀 인접 전투 심볼 HP +2 회복
- Supply Line(보급로): 전투 심볼이 적 처치 시 HP 5 회복

> 모든 수치는 임시. 밸런싱 후 조정 예정.

### 6-3. 적 심볼 계층

| 계층 | 이름 | 등장 방식 | 패시브 효과 | HP / 반격 ATK |
|------|------|----------|------------|--------------|
| 1 | **야만인 (Barbarian)** | 이벤트로 보드에 강제 배치 | 인접 아군 심볼 식량 생산 -50% | 6 / 1 |
| 2 | **침략자 (Raider)** | 전쟁 심볼이 컬렉션에 추가 | 매 스핀 인접 아군 심볼 1개 파괴 시도 | 12 / 3 |
| 3 | **정예 적군 (Elite Enemy)** | 고위 전쟁 심볼이 컬렉션에 추가 | 인접 아군 파괴 + 주변 2칸 식량 생산 차단 | 20 / 5 |

- 야만인은 이벤트로 보드에 직접 배치 (컬렉션 추가 아님).
- 침략자·정예 적군은 컬렉션에 추가 → 이후 스핀에서 보드에 랜덤 등장.
- 적 심볼의 HP는 현재 `effect_counter`로 추적. 보드 위에 잔여 HP 숫자 표시 필요.

### 6-4. 전쟁 심볼 (플레이어 선택 가능)

기본 형식: **X턴 동안 매 턴 적 심볼을 컬렉션에 추가 → X턴 후 자파괴 + 대형 보상 + 승리의 증표 N개**

| 심볼 | 지속 | 소환 적 | 자파괴 보상 | 증표 |
|------|------|---------|-----------|------|
| **원정 (Expedition)** | 6턴 | 침략자 ×1/턴 | +150 Food, +30 Gold | 1개 |
| **정복 (Conquest)** | 10턴 | 침략자 ×2/턴 | +300 Food, +80 Gold | 2개 |
| **제국 전쟁 (Imperial War)** | 15턴 | 정예 적군 ×1 + 침략자 ×2/턴 | +600 Food, +200 Gold | 4개 |

> 숫자(턴, 보상)는 모두 임시. 밸런싱 후 조정 예정.

**구조적 긴장감**: 전쟁 심볼이 살아있는 동안 컬렉션에 적이 계속 쌓임. 자파괴 전까지 전투 심볼로 얼마나 제거하느냐가 생존의 관건. 자파괴에 실패하면 (게임 오버 등) 증표 없이 적만 남음.

### 6-5. 승리의 증표 & 군사 승리

- **목표**: 증표 N개 수집 시 군사 승리 (현재 임시값: 10개).
- 경제 승리(지식 누적)보다 빠르게 달성 가능하지만 리스크 훨씬 높음.
- 증표가 쌓일수록 덱의 적 심볼 비율도 올라가기 때문에 후반부로 갈수록 위험 누적.

### 6-6. 플레이 스타일 분화

| 덱 유형 | 전쟁 심볼 | 전투 심볼 | 승리 경로 |
|--------|---------|---------|---------|
| 순수 경제 | 없음 | 1~2개 (방어용) | 지식 승리만 가능 |
| 하이브리드 | 원정·정복 1~2개 | 3~4개 | 군사·경제 양방향 |
| 전투 특화 | 전쟁 심볼 다수 | 다수 + 힌두교 | 군사 승리 목표 |

**힌두교 시너지**: 적 심볼 파괴 시 지식 +5 + 복사본 추가 → 전투 덱에서 적 파괴를 자원으로 전환하는 핵심 허브.

### 6-7. 구현 우선순위

1. 야만인 심볼 + 보드 강제 배치 이벤트 + Warrior 전투 페이즈 처치
2. 전투 페이즈 이터레이션 (효과 페이즈 앞에 삽입)
3. 전쟁 심볼 1종 (원정) + 침략자 심볼 + 승리의 증표 카운터
4. 군사 승리 조건
5. 정복·제국 전쟁 + 정예 적군 + 전투 특화 시너지 심볼

---

## 7. 심볼 아이디어 보관소

### 정치·경제
- **Democracy** — 여러 종류의 심볼이 섞일수록 보너스, 다양성 장려.
- **Fascism** — 한 줄 정렬 시 보너스, 강제 정렬 메커닉.
- **Communism** — 턴 종료 시 모든 심볼 식량을 평균화.
- **Stock Market** — 무작위 심볼 효과를 2배 혹은 0배로 만들며 리스크 제공.
- **Trade Route** — 대각선 위치의 심볼끼리 효과 공유.

### 종교·철학
- **Polytheism** — 서로 다른 종교 수가 많을수록 보너스.
- **Monotheism** — 다른 종교 파괴 시 식량/신앙 스택.
- **Atheism** — 종교가 없을 때 과학 심볼 배율 상승.
- **Philosophy** — 무작위 심볼의 효과를 다른 곳에 복사.

### 과학·기술
- **Printing Press** — 인접 심볼 효과를 전체 보드에 복제.
- **Gunpowder** — 십자 방향 폭발, 파괴 수만큼 보상.
- **Steam Engine** — 인접 심볼 카운터 속도를 2배로 가속.

### 군사·전쟁
- **Archery** — 멀리 있는 심볼을 저격(직선 공격).
- **Chivalry** — 약한 심볼 대신 피해를 받아 보호.
- **Nuclear Weapons** — 전체 보드 정리 + 막대한 보상 + 방사능 디버프.
