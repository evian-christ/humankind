# Core Gameplay 완성도 로드맵

## 현재 상태 (Current Status)

### 구현 완료된 시스템
- ✅ 기본 게임 루프 (스핀 → 배치 → 효과 처리 → 선택)
- ✅ 5x4 그리드 보드 시스템
- ✅ 심볼 인스턴스 관리 시스템
- ✅ 턴 진행 및 식량 지불 시스템 (10턴마다: 100, 150, 200, 250...)
- ✅ 실시간 비주얼 피드백 (하이라이트, 플로팅 텍스트)
- ✅ 카운터 기반 심볼 메카닉스
- ✅ 심볼 파괴 시스템
- ✅ 심볼 진화 시스템 (Campfire → Town → City)
- ✅ 희귀도 기반 심볼 선택 시스템
- ✅ 전투 시스템 프레임워크 (process_combat)
- ✅ 경험치(EXP) 처리 로직
- ✅ 골드(Gold) 처리 로직

### 구현된 심볼 효과 (19/37)

#### 식량 생산 심볼
1. ✅ **Wheat (ID 1)** - 6턴마다 8 식량
2. ✅ **Rice (ID 2)** - 8턴마다 11 식량
3. ✅ **Fish (ID 3)** - 5턴 후 파괴, 10 식량
4. ✅ **Fishing Boat (ID 4)** - 인근 Fish 파괴
5. ✅ **Banana (ID 5)** - 10회 배치 후 영구 +2 식량
6. ✅ **Sugar (ID 6)** - 인근 Sugar당 +1 식량
11. ✅ **Cow (ID 11)** - 인근 Cow 있으면 +1 식량

#### 산업 심볼
7. ✅ **Mine (ID 7)** - 1% 확률로 Coal 생성
8. ✅ **Coal (ID 8)** - 매턴 3 식량
9. ✅ **Industrial Revolution (ID 9)** - 인근 Coal 파괴, 누적 +1 식량

#### 정착지 진화 시리즈
29. ✅ **Campfire (ID 29)** - 5턴마다 +5 식량, 25턴 후 Town 진화
30. ✅ **Town (ID 30)** - 3턴마다 +5 식량, 25턴 후 City 진화
31. ✅ **City (ID 31)** - 매턴 +5 식량

#### 경험치 심볼
13. ✅ **Library (ID 13)** - 매턴 +1 경험치
32. ✅ **Wine (ID 32)** - 매턴 5 식량 - 1 경험치, 3턴 후 파괴

#### 경제 심볼
33. ✅ **Taxation (ID 33)** - 3턴간 +2 골드, 이후 파괴
34. ✅ **Merchant (ID 34)** - -3 식량, 인근 심볼당 +1 골드
35. ✅ **Guild (ID 35)** - -5 식량, 인근 빈칸당 +5 골드

#### 숲 시스템
36. ✅ **Forest (ID 36)** - 매턴 +1 식량, 파괴 시 +30 식량
37. ✅ **Forest Clearing (ID 37)** - 매턴 +1 식량, 인근 Forest 파괴

### 미구현 심볼 (18/37)

#### 기본 심볼
- [ ] **Revolution (ID 10)** - 자신과 인근 파괴, 파괴 수만큼 랜덤 심볼 제공
- [ ] **Sheep (ID 12)** - 매턴 1 식량

#### 종교 시스템 (6개)
- [ ] **Ritual (ID 14)** - 3턴 후 파괴, 3 경험치
- [ ] **Protestantism (ID 15)** - 인근 심볼당 +2 식량, +1 경험치, 인근 종교당 -50 식량
- [ ] **Buddhism (ID 16)** - 빈칸당 +3 식량, +1 경험치, 인근 종교당 -50 식량
- [ ] **Hinduism (ID 17)** - +5 식량, +1 경험치, 인근 종교당 -50 식량
- [ ] **Islam (ID 18)** - +2 경험치, 인근 종교당 -50 식량
- [ ] **Temple (ID 19)** - 기본 1 식량, 인근 심볼 없으면 +5 식량, 인근 종교 있으면 +2 식량

#### 탐험 시스템 (2개)
- [ ] **Sail (ID 20)** - Compass 인근 5회 후 파괴, 25 식량
- [ ] **Compass (ID 21)** - Sail 인근 5회 후 파괴, 25 식량

#### 전투 시스템 (6개)
- [ ] **Barbarian (ID 22)** - -3 식량, HP 10
- [ ] **Warrior (ID 23)** - 인근 Barbarian -2 HP (고대)
- [ ] **Swordsman (ID 24)** - 인근 Barbarian -4 HP (고전)
- [ ] **Knight (ID 25)** - 인근 Barbarian -7 HP (중세)
- [ ] **Cavalry (ID 26)** - 인근 Barbarian -11 HP (산업)
- [ ] **Infantry (ID 27)** - 인근 Barbarian -16 HP (현대)

---

## Phase 1: 나머지 심볼 구현

### 1.1 간단한 심볼 (우선순위: 높음) ✅ **완료**
**예상 작업 시간: 0.5일**

- [x] **Sheep (ID 12)** - 매턴 1 식량, 10턴마다 1 골드
  - 카운터 시스템, 골드 UI 연동 완료

### 1.2 종교 시스템 (우선순위: 중간) ✅ **완료**
**예상 작업 시간: 2-3일**

**필요 기능:**
- [x] 종교 심볼 식별 함수 (ID 15-18 체크)
- [x] 빈칸 카운팅 로직
- [x] 조건부 음수 식량 처리

**구현 순서:**
1. [x] **Ritual (ID 14)** - 3턴 후 파괴, 3 경험치
   - Fish와 유사한 카운터 파괴 로직

2. [x] **Hinduism (ID 17)** - +5 식량, +1 경험치, 인근 종교당 -50 식량
   - 가장 단순한 종교 심볼

3. [x] **Islam (ID 18)** - +2 경험치, 인근 종교당 -50 식량
   - 경험치만 제공

4. [x] **Protestantism (ID 15)** - 인근 심볼당 +2 식량, +1 경험치, 인근 종교당 -50 식량
   - 인근 심볼 카운팅 필요

5. [x] **Buddhism (ID 16)** - 빈칸당 +3 식량, +1 경험치, 인근 종교당 -50 식량
   - 빈칸 카운팅 로직 추가 필요

6. [x] **Temple (ID 19)** - 기본 1 식량, 인근 심볼 없으면 +5 식량, 인근 종교 있으면 +2 식량
   - 복잡한 조건부 로직

### 1.3 탐험 시스템 (우선순위: 중간)
**예상 작업 시간: 1-2일**

- [ ] **Sail (ID 20)** - Compass 인근 5회 후 파괴, 25 식량
  - `state_data.compass_nearby_count` 추가

- [ ] **Compass (ID 21)** - Sail 인근 5회 후 파괴, 25 식량
  - `state_data.sail_nearby_count` 추가

**구현 요구사항:**
- 특정 심볼 인근 횟수 카운터
- 상호 의존적 파괴 로직

### 1.4 전투 시스템 완성 (우선순위: 높음)
**예상 작업 시간: 2-3일**

**현재 상태:** 전투 프레임워크는 구현되어 있음 (process_combat 함수)

**필요 작업:**
1. [ ] Symbol.gd에 전투 관련 속성 추가
   - `symbol_type` (ENEMY, COMBAT 등)
   - `attack_power`
   - `max_hp`

2. [ ] PlayerSymbolInstance에 전투 속성 추가
   - `enemy_hp` (현재 HP)
   - `remaining_attacks` (남은 공격 횟수)
   - `attack_power` (공격력)

3. [ ] 심볼 데이터 파일(.tres)에 속성 설정
   - [ ] **Barbarian (ID 22)** - symbol_type: ENEMY, passive_food: -3, max_hp: 10
   - [ ] **Warrior (ID 23)** - symbol_type: COMBAT, attack_power: 2
   - [ ] **Swordsman (ID 24)** - symbol_type: COMBAT, attack_power: 4
   - [ ] **Knight (ID 25)** - symbol_type: COMBAT, attack_power: 7
   - [ ] **Cavalry (ID 26)** - symbol_type: COMBAT, attack_power: 11
   - [ ] **Infantry (ID 27)** - symbol_type: COMBAT, attack_power: 16

4. [ ] UI 개선
   - HP 표시 (Barbarian)
   - 공격 횟수 표시 (전투 유닛)
   - 전투 결과 플로팅 텍스트

5. [ ] Barbarian 생성 시스템
   - 특정 턴마다 플레이어 컬렉션에 Barbarian 추가
   - 난이도별 생성 확률 조정

### 1.5 복잡한 메카닉 (우선순위: 낮음)
**예상 작업 시간: 1-2일**

- [ ] **Revolution (ID 10)** - 자신과 인근 파괴, 파괴 수만큼 랜덤 심볼 제공
  - 플레이어 컬렉션에 심볼 추가 로직
  - 랜덤 심볼 선택 로직
  - 대량 파괴 처리

---

## Phase 2: 리소스 시스템 UI 통합

### 2.1 경험치(EXP) UI (우선순위: 높음)
**예상 작업 시간: 0.5-1일**

**현재 상태:** 백엔드 로직은 구현됨 (SymbolEffectsProcessor에서 exp_gained 반환)

- [ ] GameStateManager에 experience 변수 추가 (이미 있을 수 있음 - 확인 필요)
- [ ] UIManager에 경험치 표시 추가 (상단 스탯바)
- [ ] BoardRenderer에 경험치 플로팅 텍스트 추가
- [ ] 레벨 시스템 설계
  - 레벨당 필요 경험치 공식
  - 레벨업 시 혜택 (더 나은 심볼 선택 가중치 등)
- [ ] 레벨업 알림 UI

### 2.2 골드(Gold) UI (우선순위: 중간)
**예상 작업 시간: 1-2일**

**현재 상태:** 백엔드 로직은 구현됨 (SymbolEffectsProcessor에서 gold_gained 반환)

- [ ] GameStateManager에 gold 변수 추가
- [ ] UIManager에 골드 표시 추가 (상단 스탯바)
- [ ] BoardRenderer에 골드 플로팅 텍스트 추가
- [ ] 골드 사용처 설계 및 구현
  - 심볼 재선택 기능 (골드 소모)
  - 특수 능력 구매
  - 심볼 업그레이드
- [ ] 골드 상점 UI (선택사항)

---

## Phase 3: 게임 진행 시스템

### 3.1 승리 조건 (우선순위: 높음)
**예상 작업 시간: 1-2일**

**설계 옵션:**
- A: 목표 턴 수 생존 (예: 100턴)
- B: 목표 레벨 도달 (예: Lv.10)
- C: 목표 식량 누적 (예: 총 10000 식량 생산)
- D: 모든 Era의 심볼 수집

**구현 작업:**
- [ ] 승리 조건 선택 및 구현
- [ ] 승리 체크 로직
- [ ] 승리 화면 UI
- [ ] 최종 통계 표시
- [ ] 재시작 / 메인 메뉴 버튼

### 3.2 게임 오버 조건 강화 (우선순위: 높음)
**예상 작업 시간: 0.5-1일**

- [ ] 식량 부족으로 인한 게임 오버 처리
- [ ] 게임 오버 화면 UI 개선
- [ ] 재시작 버튼
- [ ] 최종 통계 표시 (도달 턴, 생성 식량, 획득 심볼 등)

### 3.3 난이도 시스템 (우선순위: 중간)
**예상 작업 시간: 1-2일**

- [ ] 난이도 선택 화면 (Easy / Normal / Hard)
- [ ] 난이도별 파라미터
  - 초기 식량 (Easy: 200, Normal: 100, Hard: 50)
  - 식량 지불 배율 (Easy: 0.8x, Normal: 1x, Hard: 1.5x)
  - Barbarian 출현 확률
  - 심볼 선택 개수 (Easy: 4개, Normal: 3개, Hard: 2개)
  - 희귀 심볼 가중치

---

## Phase 4: 메타 시스템

### 4.1 세이브/로드 시스템 (우선순위: 높음)
**예상 작업 시간: 2-3일**

**저장할 데이터:**
- GameStateManager 상태
  - food, experience, gold, turn
  - food_payment_count
- 보드 상태 (board_grid)
  - 모든 PlayerSymbolInstance 직렬화
  - 위치 정보
- 플레이어 심볼 컬렉션 (player_symbols)
- 게임 설정 (난이도 등)

**구현 작업:**
- [ ] 게임 상태 직렬화 함수
- [ ] 게임 상태 역직렬화 함수
- [ ] 저장/로드 UI
- [ ] 자동 저장 (매 X턴마다)
- [ ] 다중 세이브 슬롯 (선택사항)
- [ ] 세이브 파일 메타데이터 (날짜, 턴 수 등)

### 4.2 통계 시스템 (우선순위: 중간)
**예상 작업 시간: 1-2일**

**추적할 통계:**
- 총 플레이 시간
- 최대 생존 턴
- 생성한 식량 총합
- 획득한 경험치 총합
- 획득한 골드 총합
- 파괴한 심볼 수
- 각 심볼별 사용 횟수
- 게임 플레이 횟수
- 승리 횟수

**구현 작업:**
- [ ] 통계 추적 로직 (GameStateManager)
- [ ] 통계 저장 (영구 저장)
- [ ] 통계 화면 UI
- [ ] 게임 종료 시 통계 업데이트

### 4.3 도전 과제 / 업적 (우선순위: 낮음)
**예상 작업 시간: 2-3일**

- [ ] 업적 시스템 설계
- [ ] 업적 목록 작성 (20-30개)
  - 예: "첫 승리", "100턴 생존", "모든 심볼 수집" 등
- [ ] 업적 달성 체크 로직
- [ ] 업적 알림 UI
- [ ] 업적 목록 화면

---

## Phase 5: UI/UX 개선

### 5.1 튜토리얼 시스템 (우선순위: 높음)
**예상 작업 시간: 2-3일**

**튜토리얼 단계:**
1. 게임 소개 및 목표 설명
2. 스핀 버튼 사용법
3. 심볼 효과 설명 (Wheat 예시)
4. 식량 관리 중요성
5. 심볼 선택 전략
6. 심볼 시너지 힌트

**구현 작업:**
- [ ] 첫 플레이 감지 (설정 파일)
- [ ] 튜토리얼 단계별 UI 오버레이
- [ ] 진행 가능한 튜토리얼 (단계별)
- [ ] 스킵 기능
- [ ] "튜토리얼 다시 보기" 메뉴

### 5.2 설정 메뉴 (우선순위: 중간)
**예상 작업 시간: 1-2일**

- [ ] 설정 화면 UI
- [ ] 사운드 볼륨 조절
  - 마스터 볼륨
  - BGM 볼륨
  - SFX 볼륨
- [ ] 해상도 설정
- [ ] 전체화면/창모드 전환
- [ ] 언어 설정 (한국어/영어)
- [ ] 설정 저장/로드

### 5.3 심볼 도감 (우선순위: 중간)
**예상 작업 시간: 1-2일**

- [ ] 도감 UI 화면
- [ ] 모든 심볼 목록 표시
- [ ] 획득한 심볼 표시
- [ ] 심볼 상세 정보
  - 아이콘
  - 이름
  - 효과 설명
  - 희귀도
  - 획득 횟수
- [ ] 검색/필터 기능 (희귀도별, Era별)

### 5.4 UI 개선 (우선순위: 중간)
**예상 작업 시간: 2-3일**

- [ ] 메인 메뉴 화면
  - 새 게임
  - 이어하기
  - 설정
  - 도감
  - 통계
  - 종료
- [ ] 일시정지 메뉴 (ESC 키)
- [ ] 심볼 상세 정보 툴팁 (마우스 오버)
- [ ] 효과 발생 시 더 명확한 시각적 피드백
  - 파괴 효과
  - 진화 효과
  - 전투 효과
- [ ] 카운터 표시 개선
  - 진행 바 형식
  - 색상 코딩

---

## Phase 6: 사운드 및 아트

### 6.1 사운드 이펙트 (우선순위: 중간)
**예상 작업 시간: 1-2일**

**필요한 사운드:**
- [ ] UI 클릭 사운드
- [ ] 스핀 사운드 (슬롯머신 느낌)
- [ ] 심볼 배치 사운드
- [ ] 식량 획득 사운드 (긍정적)
- [ ] 식량 손실 사운드 (부정적)
- [ ] 심볼 파괴 사운드
- [ ] 심볼 진화 사운드 (특별한 효과)
- [ ] 레벨업 사운드
- [ ] 전투 사운드 (공격, 적 처치)
- [ ] 게임 오버 사운드
- [ ] 승리 사운드

**구현 작업:**
- [ ] AudioManager 싱글톤 생성
- [ ] 사운드 파일 통합
- [ ] 각 이벤트에 사운드 연결
- [ ] 볼륨 조절 연동

### 6.2 배경 음악 (우선순위: 낮음)
**예상 작업 시간: 0.5-1일**

- [ ] 메인 메뉴 BGM
- [ ] 게임 플레이 BGM (차분한 전략 음악)
- [ ] 승리 BGM
- [ ] BGM 루프 설정
- [ ] BGM 전환 효과 (페이드 인/아웃)

### 6.3 아트 개선 (우선순위: 중간)
**예상 작업 시간: 가변적**

- [ ] 모든 심볼 아이콘 완성
- [ ] UI 배경 및 테마 통일
- [ ] 파티클 효과 (선택사항)
  - 심볼 파괴 시
  - 진화 시
  - 레벨업 시

---

## Phase 7: 밸런싱 및 테스트

### 7.1 밸런싱 (우선순위: 높음)
**예상 작업 시간: 2-3일 (지속적)**

**조정 항목:**
- [ ] 심볼별 식량 생산량
  - 너무 강한/약한 심볼 조정
- [ ] 턴별 식량 소모 곡선
  - 현재: 100, 150, 200, 250...
  - 게임 길이에 맞게 조정
- [ ] 희귀도별 출현 확률
  - Era별 가중치 재조정
- [ ] 심볼 시너지 밸런스
  - 너무 강력한 조합 방지
- [ ] Barbarian 출현 빈도 및 난이도
- [ ] 경험치 획득량 및 레벨업 필요량
- [ ] 골드 획득량 및 사용처 밸런스

**테스트 플레이:**
- [ ] 난이도별 플레이 테스트
- [ ] 평균 생존 턴 측정
- [ ] 승리 가능성 확인

### 7.2 버그 수정 및 안정성 (우선순위: 높음)
**예상 작업 시간: 2-3일**

**테스트 항목:**
- [ ] 모든 심볼 효과 동작 확인
- [ ] 엣지 케이스 테스트
  - 보드 가득 찼을 때
  - 식량 음수 상황
  - 심볼 동시 다수 파괴
  - 같은 턴에 여러 심볼 진화
  - 전투 중 여러 적 동시 처치
- [ ] 메모리 누수 체크
- [ ] 성능 테스트 (장시간 플레이)
- [ ] 크래시 테스트
- [ ] 세이브/로드 무결성 테스트

### 7.3 최적화 (우선순위: 중간)
**예상 작업 시간: 1-2일**

- [ ] 코드 프로파일링
- [ ] 불필요한 연산 제거
- [ ] 리소스 로딩 최적화
- [ ] UI 렌더링 최적화
- [ ] 여러 해상도에서 테스트

---

## Phase 8: 스팀 출시 준비

### 8.1 빌드 및 패키징 (우선순위: 높음)
**예상 작업 시간: 1-2일**

- [ ] Windows 빌드 테스트
- [ ] Mac 빌드 테스트 (가능하다면)
- [ ] Linux 빌드 테스트 (가능하다면)
- [ ] 빌드 크기 최적화
- [ ] 시스템 요구사항 확정

### 8.2 Steamworks 통합 (우선순위: 높음)
**예상 작업 시간: 2-3일**

- [ ] Steamworks SDK 통합 (GodotSteam 플러그인)
- [ ] Steam 업적 구현
- [ ] Steam 클라우드 세이브
- [ ] Steam 통계 연동
- [ ] Steam 리더보드 (선택사항)
- [ ] Steam 오버레이 테스트

### 8.3 다국어 지원 (우선순위: 중간)
**예상 작업 시간: 2-3일**

- [ ] 번역 시스템 구현 (Godot Localization)
- [ ] 한국어 텍스트 정리
- [ ] 영어 번역
- [ ] UI 텍스트 길이 대응 (레이아웃 조정)
- [ ] 언어별 테스트

---

## 전체 체크리스트 요약

### Critical Path (스팀 출시 필수)

**Phase 1: 심볼 완성**
- [ ] Sheep 구현 (0.5일)
- [ ] 전투 시스템 완성 (2-3일)
  - Barbarian 데이터 설정
  - 전투 유닛 6개 데이터 설정
  - HP UI 구현
  - Barbarian 생성 로직
- [ ] 종교 시스템 구현 (2-3일)
- [ ] 탐험 시스템 구현 (1-2일)

**Phase 2: 리소스 UI**
- [ ] 경험치 UI 통합 (0.5-1일)
- [ ] 골드 UI 통합 (1-2일)

**Phase 3: 게임 진행**
- [ ] 승리 조건 구현 (1-2일)
- [ ] 게임 오버 강화 (0.5-1일)

**Phase 4: 메타 시스템**
- [ ] 세이브/로드 시스템 (2-3일)

**Phase 5: UI/UX**
- [ ] 튜토리얼 (2-3일)
- [ ] 설정 메뉴 (1-2일)
- [ ] 메인 메뉴 (1일)

**Phase 6: 사운드**
- [ ] 기본 SFX (1-2일)
- [ ] BGM (0.5-1일)

**Phase 7: 밸런싱/테스트**
- [ ] 밸런싱 (2-3일)
- [ ] 버그 수정 (2-3일)

**Phase 8: 스팀 준비**
- [ ] 빌드 테스트 (1-2일)
- [ ] Steamworks 통합 (2-3일)
- [ ] 영어 번역 (2-3일)

### High Priority (출시 후 업데이트 가능)

- [ ] 난이도 시스템
- [ ] 통계 시스템
- [ ] 심볼 도감
- [ ] Revolution 심볼

### Low Priority (추후 업데이트)

- [ ] 도전 과제/업적 (Steam 업적과 별개)
- [ ] 골드 상점
- [ ] 추가 난이도
- [ ] 추가 심볼

---

## 예상 작업 기간 (1인 개발 기준)

### 최소 기간 (Critical Path만)
- Phase 1: 6-9일
- Phase 2: 2-3일
- Phase 3: 2-3일
- Phase 4: 2-3일
- Phase 5: 4-6일
- Phase 6: 2-3일
- Phase 7: 4-6일
- Phase 8: 5-8일

**총 최소 기간: 27-41일 (약 1-2개월)**

### 권장 기간 (High Priority 포함)
**총 권장 기간: 45-60일 (약 2-3개월)**

---

## 다음 우선 작업 순서 (추천)

1. **Sheep 구현** (0.5일) - 가장 간단, 빠른 성취감
2. **전투 시스템 완성** (2-3일) - 핵심 메카닉
3. **경험치 UI 통합** (0.5-1일) - 이미 백엔드 구현됨
4. **승리/게임오버 조건** (1-2일) - 게임 완결성
5. **세이브/로드 시스템** (2-3일) - 플레이어 편의성
6. **튜토리얼** (2-3일) - 신규 플레이어 온보딩
7. **종교 시스템** (2-3일) - 콘텐츠 확장
8. **밸런싱 및 테스트** (지속적)
